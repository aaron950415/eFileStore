{"version":3,"sources":["components/Uploader.js","components/Tips.js","pages/Home.js"],"names":["Dragger","Upload","Result","styled","div","H1","h1","Image","img","Component","observer","useStores","ImageStore","UserStore","ref1","useRef","ref2","store","useLocalStore","width","setWidth","height","setHeight","serverFile","attributes","url","widthStr","heightStr","props","showUploadList","multiple","beforeUpload","file","fileList","setFile","setFileName","name","currentUser","message","warning","upLoader","then","tip","spinning","isLoading","className","InboxOutlined","target","href","fileName","alt","src","ref","onChange","current","value","placeholder","fullStr","Tips","children","Home"],"mappings":"oNAOQA,EAAYC,IAAZD,QAEFE,EAASC,IAAOC,IAAV,+FAKNC,EAAKF,IAAOG,GAAV,sEAIFC,EAAQJ,IAAOK,IAAV,iDA2HIC,EAvHGC,aAAS,WACzB,MAAkCC,cAA1BC,EAAR,EAAQA,WAAYC,EAApB,EAAoBA,UACdC,EAAOC,mBACPC,EAAOD,mBAEPE,EAAQC,aAAc,iBAAO,CACjCC,MAAO,KACPC,SAFiC,SAExBD,GACPF,EAAME,MAAQA,GAEhB,eACE,OAAOF,EAAME,MAAN,aAAoBF,EAAME,OAAU,IAE7CE,OAAQ,KACRC,UATiC,SASvBD,GACRJ,EAAMI,OAASA,GAEjB,gBACE,OAAOJ,EAAMI,OAAN,aAAqBJ,EAAMI,QAAW,IAE/C,cACE,OACET,EAAWW,WAAWC,WAAWC,IAAID,WAAWC,IAChD,gBACAR,EAAMS,SACNT,EAAMU,eAYNC,EAAQ,CACZC,gBAAgB,EAChBC,UAAU,EACVC,aAAc,SAACC,EAAMC,GAGnB,OAFArB,EAAWsB,QAAQF,GACnBpB,EAAWuB,YAAYH,EAAKI,MACE,OAA1BvB,EAAUwB,aACZC,IAAQC,QAAQ,kBACT,IAGT3B,EAAW4B,WACRC,MAAK,SAAClB,QAEF,KAIX,OACE,gCACA,cAAC,IAAD,CAAMmB,IAAI,eAAeC,SAAU/B,EAAWgC,UAA9C,SACE,eAAC5C,EAAD,2BAAa4B,GAAb,cACE,mBAAGiB,UAAU,uBAAb,SACE,cAACC,EAAA,EAAD,MAEF,mBAAGD,UAAU,kBAAb,uDAGA,mBAAGA,UAAU,kBAAb,4JAODjC,EAAWW,WACV,eAACrB,EAAD,WACE,cAACG,EAAD,4BACA,+BACE,+CACA,6BACE,mBACE0C,OAAO,SACPC,KAAMpC,EAAWW,WAAWC,WAAWC,IAAID,WAAWC,IAFxD,SAIGb,EAAWW,WAAWC,WAAWC,IAAID,WAAWC,QAGrD,2CACA,6BAAKb,EAAWqC,WAChB,yCACA,6BACE,cAAC1C,EAAD,CACE2C,IAAI,GACJC,IAAKvC,EAAWW,WAAWC,WAAWC,IAAID,WAAWC,QAGzD,4CACA,+BACE,uBACE2B,IAAKtC,EACLuC,SApEU,WACtBpC,EAAMG,SAASN,EAAKwC,QAAQC,QAoEhBC,YAAY,sBAEd,uBACEJ,IAAKpC,EACLqC,SArEW,WACvBpC,EAAMK,UAAUN,EAAKsC,QAAQC,QAqEjBC,YAAY,yBAGhB,6BACE,mBAAGT,OAAO,SAASC,KAAM/B,EAAMwC,QAA/B,SACGxC,EAAMwC,kBAKf,WCrIFC,EAAOvD,IAAOC,IAAV,+HAYKK,EALG,SAAC,GAAkB,IAAhBkD,EAAe,EAAfA,SACX9C,EAAcF,cAAdE,UACR,OAAO,mCAAGA,EAAUwB,YAAc,KAAO,cAACqB,EAAD,UAAOC,OCInCC,UAbf,WAEI,OACI,qCAEK,cAAC,EAAD,kDAEL,cAAC,EAAD","file":"static/js/9.c8a5a235.chunk.js","sourcesContent":["import React, { useRef } from \"react\";\r\nimport { useStores } from \"../stores\";\r\nimport { Upload, message,Spin, Switch, Alert } from \"antd\";\r\nimport { InboxOutlined } from \"@ant-design/icons\";\r\nimport { observer, useLocalStore } from \"mobx-react\";\r\nimport styled from \"styled-components\";\r\n\r\nconst { Dragger } = Upload;\r\n\r\nconst Result = styled.div`\r\n  margin-top: 30px;\r\n  border: 1px dashed #ccc;\r\n  padding: 20px;\r\n`;\r\nconst H1 = styled.h1`\r\n  margin: 20px 0;\r\n  text-align: center;\r\n`;\r\nconst Image = styled.img`\r\n  max-width: 300px;\r\n`;\r\n\r\nconst Component = observer(() => {\r\n  const { ImageStore, UserStore } = useStores();\r\n  const ref1 = useRef();\r\n  const ref2 = useRef();\r\n\r\n  const store = useLocalStore(() => ({\r\n    width: null,\r\n    setWidth(width) {\r\n      store.width = width;\r\n    },\r\n    get widthStr() {\r\n      return store.width ? `/w/${store.width}` : \"\";\r\n    },\r\n    height: null,\r\n    setHeight(height) {\r\n      store.height = height;\r\n    },\r\n    get heightStr() {\r\n      return store.height ? `/h/${store.height}` : \"\";\r\n    },\r\n    get fullStr() {\r\n      return (\r\n        ImageStore.serverFile.attributes.url.attributes.url +\r\n        \"?imageView2/0\" +\r\n        store.widthStr +\r\n        store.heightStr\r\n      );\r\n    },\r\n  }));\r\n\r\n  const bindWidthChange = () => {\r\n    store.setWidth(ref1.current.value);\r\n  };\r\n\r\n  const bindHeightChange = () => {\r\n    store.setHeight(ref2.current.value);\r\n  };\r\n  const props = {\r\n    showUploadList: false,\r\n    multiple: true,\r\n    beforeUpload: (file, fileList) => {\r\n      ImageStore.setFile(file);\r\n      ImageStore.setFileName(file.name);\r\n      if (UserStore.currentUser === null) {\r\n        message.warning(\"Please Login \");\r\n        return false;\r\n      }\r\n      // add file limited in here\r\n      ImageStore.upLoader()\r\n        .then((serverFile) => {\r\n        })\r\n      return false;\r\n    },\r\n  };\r\n\r\n  return (\r\n    <div>\r\n    <Spin tip=\"uploading...\" spinning={ImageStore.isLoading}>\r\n      <Dragger {...props}>\r\n        <p className=\"ant-upload-drag-icon\">\r\n          <InboxOutlined />\r\n        </p>\r\n        <p className=\"ant-upload-text\">\r\n          Click or drag file to this area to upload\r\n        </p>\r\n        <p className=\"ant-upload-hint\">\r\n          Support for a single or bulk upload. Strictly prohibit from uploading\r\n          company data or other band files. Multiple file will not show all.\r\n\r\n        </p>\r\n      </Dragger>\r\n      </Spin>\r\n      {ImageStore.serverFile ? \r\n        <Result>\r\n          <H1>Upload Result</H1>\r\n          <dl>\r\n            <dt>Resource Path</dt>\r\n            <dd>\r\n              <a\r\n                target=\"_blank\"\r\n                href={ImageStore.serverFile.attributes.url.attributes.url}\r\n              >\r\n                {ImageStore.serverFile.attributes.url.attributes.url}\r\n              </a>\r\n            </dd>\r\n            <dt>File Name</dt>\r\n            <dd>{ImageStore.fileName}</dd>\r\n            <dt>Preview</dt>\r\n            <dd>\r\n              <Image\r\n                alt=\"\"\r\n                src={ImageStore.serverFile.attributes.url.attributes.url}\r\n              />\r\n            </dd>\r\n            <dt>Other Size</dt>\r\n            <dd>\r\n              <input\r\n                ref={ref1}\r\n                onChange={bindWidthChange}\r\n                placeholder=\"Max Width(Option)\"\r\n              />\r\n              <input\r\n                ref={ref2}\r\n                onChange={bindHeightChange}\r\n                placeholder=\"Max Heigh(Option)\"\r\n              />\r\n            </dd>\r\n            <dd>\r\n              <a target=\"_blank\" href={store.fullStr}>\r\n                {store.fullStr}\r\n              </a>\r\n            </dd>\r\n          </dl>\r\n        </Result>\r\n      : null}\r\n    </div>\r\n  );\r\n});\r\n\r\nexport default Component;\r\n","import React from \"react\";\r\nimport { useStores } from \"../stores\";\r\nimport styled from 'styled-components'\r\nconst Tips = styled.div`\r\n  background: orange;\r\n  padding: 10px;\r\n  margin: 30px 0;\r\n  color: #fff;\r\n  border-radius: 4px;\r\n`;\r\nconst Component = ({ children }) => {\r\n  const { UserStore } = useStores();\r\n  return <>{UserStore.currentUser ? null : <Tips>{children}</Tips>}</>;\r\n};\r\n\r\nexport default Component;\r\n","import React from \"react\"\r\nimport  UpLoader from \"../components/Uploader\";\r\nimport Tips from \"../components/Tips\"\r\nfunction Home(){\r\n\r\n    return (\r\n        <>\r\n\r\n             <Tips>Please Login first, then upload !!!</Tips>\r\n\r\n        <UpLoader />\r\n        </>\r\n\r\n    );\r\n}\r\n\r\nexport default Home;"],"sourceRoot":""}